(this["webpackJsonpfirst-js-project"]=this["webpackJsonpfirst-js-project"]||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,r,s=n(80),c=n.n(s).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3588cd03-a8ff-4f0d-9d81-9d9c39c14fdb"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}))},function(e,t,n){e.exports={profile_logo:"ProfileInfo_profile_logo__1gGmI",descriptions:"ProfileInfo_descriptions__3FOxw",descriptions_logo:"ProfileInfo_descriptions_logo__v86Dv",descriptions_text:"ProfileInfo_descriptions_text__1Bk_o",descriptions_name:"ProfileInfo_descriptions_name__22uMQ",descriptions_about:"ProfileInfo_descriptions_about__7Fcjm",contacts:"ProfileInfo_contacts__2uQFH",editButton:"ProfileInfo_editButton__pSVk-",form:"ProfileInfo_form__3xfph",checkbox:"ProfileInfo_checkbox__1mNzV",wrapper:"ProfileInfo_wrapper__uBebX",check:"ProfileInfo_check__2cAY0"}},,,,,,,function(e,t,n){e.exports={nav:"NavBar_nav__1ZsFP",item_first:"NavBar_item_first__MOfNm",item:"NavBar_item__2oFxI",active:"NavBar_active__1EKNC",item_setting:"NavBar_item_setting__3YL6_"}},,,,,function(e,t,n){e.exports={user:"User_user__10vDW",avatarBlock:"User_avatarBlock__12Mle",avatarUser:"User_avatarUser__1CpwV",buttonFollow:"User_buttonFollow__1CNQl",profileUser:"User_profileUser__1tSXC",aboutUser:"User_aboutUser__1t7mg",nameUser:"User_nameUser__2Op41",blockCountry:"User_blockCountry__jcTk-",countyUser:"User_countyUser__3341w"}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(7),r={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return a.c.get("users?page=".concat(e,"&count=").concat(t)+(r?"&term=".concat(r):"")+(null===n?"":"&friend=".concat(n))).then((function(e){return e.data}))},follow:function(e){return a.c.post("follow/"+e).then((function(e){return e.data}))},unfollow:function(e){return a.c.delete("follow/"+e).then((function(e){return e.data}))}}},,function(e,t,n){e.exports={header:"Header_header__1GvhD",header_logo:"Header_header_logo__-GRmH",loginBlock:"Header_loginBlock__2MFl8",blockPhoto:"Header_blockPhoto__2jnVz",photo:"Header_photo__63AOT",photoNull:"Header_photoNull__19x9a",active:"Header_active__SB70v",buttonLogout:"Header_buttonLogout__2dCym"}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return N})),n.d(t,"c",(function(){return k}));var a=n(4),r=n.n(a),s=n(10),c=n(2),o=n(7),i=n(32),u=function(){return o.c.get("auth/me").then((function(e){return e.data}))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},d=function(){return o.c.delete("auth/login")},j=function(){return o.c.get("/security/get-captcha-url").then((function(e){return e.data}))},b=n(37),p="ruslnetwork/authReducer/SET_USER_DATA",f="ruslnetwork/authReducer/ADD_USER_PHOTO",h="ruslnetwork/authReducer/ERROR_AUTH",m="ruslnetwork/authReducer/SET_CAPTCHA_URL_SUCCESS",O={id:null,login:null,email:null,isFetching:!1,isAuth:!1,userPhoto:"",errorAuth:null,captchaURL:null},_=function(e,t,n,a){return{type:p,payload:{id:e,login:t,email:n,isAuth:a}}},g=function(e){return{type:f,userPhoto:e}},x=function(e){return{type:h,message:e}},v=function(e){return{type:m,captchaURL:e}},P=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.getUserProfile(e);case 2:a=t.sent,n(g(a.photos.small));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e,t,n,a){return function(){var c=Object(s.a)(r.a.mark((function c(i){var u;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,l(e,t,n,a);case 2:(u=c.sent).resultCode===o.b.Success?(i(k()),i(x("")),i(Object(b.b)())):(u.resultCode===o.b.CaptchaIsRequired&&i(function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,j();case 3:n=e.sent,t(v(n.url));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(x(u.messages[0]))),i(v(null));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},N=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:e.sent.data.resultCode===o.a.Success&&t(_(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(0!==(a=e.sent).resultCode){e.next=9;break}return t(_(a.data.id,a.data.login,a.data.email,!0)),e.next=7,t(P(n().auth.id));case 7:e.next=10;break;case 9:1===a.resultCode&&t(_(null,null,null,!1));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(c.a)(Object(c.a)({},e),t.payload);case f:return Object(c.a)(Object(c.a)({},e),{},{userPhoto:t.userPhoto});case h:return Object(c.a)(Object(c.a)({},e),{},{errorAuth:t.message});case m:return Object(c.a)(Object(c.a)({},e),{},{captchaURL:t.captchaURL});default:return e}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(7),r={getUserProfile:function(e){return a.c.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return a.c.get("profile/status/"+e).then((function(e){return e.data}))},updateStatus:function(e){return a.c.put("profile/status",{status:e}).then((function(e){return e.data}))},updateAvatar:function(e){var t=new FormData;return t.append("image",e),a.c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},updateProfileInfo:function(e){return a.c.put("profile",e)}}},function(e,t,n){e.exports={friendItem:"NavFriendItem_friendItem__3tREF",friendItemPreloader:"NavFriendItem_friendItemPreloader__3GrP3",avatarUser:"NavFriendItem_avatarUser__2Q4fg",name:"NavFriendItem_name__2_AbB"}},function(e,t,n){e.exports={post:"Post_post__1cgbX",post_content:"Post_post_content__22nR6",post_logo:"Post_post_logo__3iji_",post_text:"Post_post_text__1m5Mt",post_like:"Post_post_like__NnLKi",post_likes:"Post_post_likes__ZRgdt",delete:"Post_delete__3n7Q5"}},function(e,t,n){e.exports={avatar:"AvavatarProfile_avatar__17d2M",inputPhoto:"AvavatarProfile_inputPhoto__3bOgk",blockInput:"AvavatarProfile_blockInput__3TjVq",blockFakeInputPhoto:"AvavatarProfile_blockFakeInputPhoto__2mf4v",iconFakeInputPhoto:"AvavatarProfile_iconFakeInputPhoto__1bFek"}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(4),r=n.n(a),s=n(10),c=n(2),o=n(25),i="SET_SIDE_BAR_USERS",u={users:[]},l=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getUsers(1,20,!0,"");case 2:n=e.sent,t((a=n.items,{type:i,users:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:for(var n=[],a=0;a<3;a++){for(var r=!1,s=Math.floor(Math.random()*t.users.length),o=0;o<n.length;o++)s===n[o]&&(r=!0,a--);r||n.push(s)}return console.log(n),Object(c.a)(Object(c.a)({},e),{},{users:[t.users[n[0]],t.users[n[1]],t.users[n[2]]]});default:return e}}},,,,,,function(e,t,n){e.exports={buttonChangeList:"Paginator_buttonChangeList__2Pcro",numbersPage:"Paginator_numbersPage__2dMmH",selectedPage:"Paginator_selectedPage__3N0Wc"}},,function(e,t,n){e.exports={newPost:"NewPost_newPost__gckab",newPost_textarea:"NewPost_newPost_textarea__2Eb51",newPost_button:"NewPost_newPost_button__3EsHI",disabled:"NewPost_disabled__3z2-l"}},function(e,t,n){e.exports={formControl:"FormsControls_formControl__1eqP1",errorInput:"FormsControls_errorInput__Filto",errorTextarea:"FormsControls_errorTextarea__stxTP"}},function(e,t,n){e.exports={inputMessage:"InputMessage_inputMessage__lnSYt",textMessage:"InputMessage_textMessage__2TeLS",buttonSend:"InputMessage_buttonSend__3RzUJ",buttonImg:"InputMessage_buttonImg__PPXw-"}},function(e,t,n){e.exports={dialog:"DialogsItem_dialog__1uTuI",active:"DialogsItem_active__1jgbh",avatarUser:"DialogsItem_avatarUser__3Dwfb",nameUser:"DialogsItem_nameUser__1JDz-"}},,,,,,,,,,function(e,t,n){e.exports={blockFriends:"FriendsSideBar_blockFriends__2iMJn",buttonFriends:"FriendsSideBar_buttonFriends__1IB2K"}},,,function(e,t,n){e.exports={wrapper:"Users_wrapper__2IDO-",menu:"Users_menu__3LoF8"}},function(e,t,n){e.exports={input:"SearchForm_input__2kMH6",button:"SearchForm_button__2T9ZX"}},function(e,t,n){e.exports={selectPage:"SelectPaginator_selectPage__18Yuf",optionPage:"SelectPaginator_optionPage__4HiQh"}},function(e,t,n){e.exports={profile:"Profile_profile__13nXA",preloaderBox:"Profile_preloaderBox__s-cO5"}},function(e,t,n){e.exports={posts:"MyPosts_posts__223X8",posts_title:"MyPosts_posts_title__3tsFr",newPost:"MyPosts_newPost__1RZDe",newPost_textarea:"MyPosts_newPost_textarea__2G1bL",newPost_button:"MyPosts_newPost_button__DKrux"}},function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1qLjX",dialogs_items:"Dialogs_dialogs_items__3JY44",messages:"Dialogs_messages__1yubI",blockMessage:"Dialogs_blockMessage__1tLBT"}},function(e,t,n){e.exports={message:"Message_message__16buQ",messageInto:"Message_messageInto__dBjVq"}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var a=n(2),r=n(0),s=n(28),c=(n(1),n(46)),o=n.n(c),i=function(e){var t=e.input,n=e.meta,c=Object(s.a)(e,["input","meta"]),i=n.error&&n.touched;return Object(r.jsx)("div",{className:"".concat(o.a.formControl," ").concat(i&&o.a.errorInput),children:Object(r.jsx)("textarea",Object(a.a)(Object(a.a)({},t),c))})},u=function(e){var t=e.input,n=e.meta,c=Object(s.a)(e,["input","meta"]),i=n.error&&n.touched;return Object(r.jsx)("div",{className:"".concat(o.a.formControl," ").concat(i&&o.a.errorInput),children:Object(r.jsx)("input",Object(a.a)(Object(a.a)({},t),c))})}},,,,function(e,t,n){e.exports={news:"News_news__3SN8l"}},function(e,t,n){e.exports={music:"Music_music__SNPKr"}},function(e,t,n){e.exports={setting:"Setting_setting__3dyKB"}},,,function(e,t,n){e.exports={wrapper:"PreloaderUsers_wrapper__1HebR"}},function(e,t,n){e.exports={blockMessage:"BlockMessage_blockMessage__Ql4Pd"}},function(e,t,n){e.exports={dialogs_items:"BlockDialogsItem_dialogs_items__1Ilm8"}},function(e,t,n){e.exports={imagesError:"Error404_imagesError__3CKE0"}},,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,128)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},o=(n(94),n(23)),i=n(4),u=n.n(i),l=n(10),d=n(24),j=n(2),b=n(7),p=n(30),f=n(32),h="ADD-POST",m="DELETE_POST",O="SET_USERS_PROFILE",_="TOGGLE_PRELOADER",g="SET_USER_STATUS",x="ADD_AVATAR",v={postData:[{id:1,message:"Hi, How are you?",likesCount:189},{id:2,message:"I'm Happy",likesCount:95}],profile:null,isPreloader:!1,status:""},P=function(e){return{type:O,profile:e}},w=function(e){return{type:g,status:e}},N=function(e){return{type:_,preloader:e}},k=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(P(null)),n(N(!0)),t.prev=2,t.next=5,f.a.getUserProfile(e);case 5:a=t.sent,n(N(!1)),n(P(a)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=e.postData[e.postData.length-1].id,a={id:n+1,message:t.newPostText,likesCount:0};return Object(j.a)(Object(j.a)({},e),{},{postData:[].concat(Object(d.a)(e.postData),[a])});case m:return Object(j.a)(Object(j.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!=t.postId}))});case O:return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});case _:return Object(j.a)(Object(j.a)({},e),{},{isPreloader:t.preloader});case g:return Object(j.a)(Object(j.a)({},e),{},{status:t.status});case x:return Object(j.a)(Object(j.a)({},e),{},{profile:Object(j.a)(Object(j.a)({},e.profile),{},{photos:t.photos})});default:return e}},I=n(37),U="ADD-NEW-MESSAGE",y={messageData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Bye"}],dialogsData:[{id:1,name:"Sun",avatarUser:"https://solarsystem.nasa.gov/system/basic_html_elements/11561_Sun.png"},{id:2,name:"Teacher",avatarUser:"https://ikeacity.by/UserFiles/products/images2/large/903/684/47/doska-molbert-ikea-mola-0.jpg"},{id:3,name:"Nikitka",avatarUser:"https://www.meme-arsenal.com/memes/5608fd17a92284aa78fdf6ec089a3c97.jpg"}]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:var n={id:1,message:t.message};return Object(j.a)(Object(j.a)({},e),{},{messageData:[].concat(Object(d.a)(e.messageData),[n])});default:return e}},R=n(25),E="ruslnetwork/usersReducer/FOLLOW",D="ruslnetwork/usersReducer/UNFOLLOW",F="ruslnetwork/usersReducer/SET-USERS",A="ruslnetwork/usersReducer/SET_USERS_CURRENT_PAGE",M="ruslnetwork/usersReducer/SET_TOTAL_USERS_COUNT",L="ruslnetwork/usersReducer/TOGGLE_PRELOADER",T="ruslnetwork/usersReducer/TOGGLE_IS_FOLLOWING_PROGRESS",B="ruslnetwork/usersReducer/SET_FILTER_USERS",z={usersData:[],pageSize:20,totalUsersCount:11,currentPage:1,isPreloader:!0,followingInProgress:[],filter:""},H=function(e){return{type:E,userId:e}},G=function(e){return{type:D,userId:e}},W=function(e){return{type:F,users:e}},V=function(e){return{type:A,numberPage:e}},J=function(e){return{type:M,totalUsersCount:e}},K=function(e){return{type:L,preloader:e}},q=function(e,t){return{type:T,preloader:e,userId:t}},Q=function(e){return{type:B,filter:e}},X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var r=Object(l.a)(u.a.mark((function r(s){var c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(K(!0)),s(Q(a)),r.next=4,R.a.getUsers(e,t,n,a);case 4:c=r.sent,s(K(!1)),s(W(c.items)),s(J(c.totalCount));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(j.a)(Object(j.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case D:return Object(j.a)(Object(j.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case F:return Object(j.a)(Object(j.a)({},e),{},{usersData:Object(d.a)(t.users)});case A:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.numberPage});case M:return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalUsersCount});case L:return Object(j.a)(Object(j.a)({},e),{},{isPreloader:t.preloader});case T:return Object(j.a)(Object(j.a)({},e),{},{followingInProgress:t.preloader?[].concat(Object(d.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});case B:return Object(j.a)(Object(j.a)({},e),{},{filter:t.filter});default:return e}},Z=n(81),$="ruslnetwork/appReducer/INITIALIZED_SUCCESS",ee={initialized:!1},te=function(){return{type:$}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},ae="ruslnetwork/usersReducer/FOLLOW",re="ruslnetwork/usersReducer/UNFOLLOW",se="ruslnetwork/usersReducer/SET-USERS",ce="ruslnetwork/usersReducer/SET_USERS_CURRENT_PAGE",oe="ruslnetwork/usersReducer/SET_TOTAL_USERS_COUNT",ie="ruslnetwork/usersReducer/TOGGLE_PRELOADER",ue="ruslnetwork/usersReducer/TOGGLE_IS_FOLLOWING_PROGRESS",le={usersData:[],pageSize:20,totalUsersCount:11,currentPage:1,isPreloader:!0,followingInProgress:[]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(j.a)(Object(j.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case re:return Object(j.a)(Object(j.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case se:return Object(j.a)(Object(j.a)({},e),{},{usersData:Object(d.a)(t.users)});case ce:return Object(j.a)(Object(j.a)({},e),{},{currentPage:+t.numberPage});case oe:return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalUsersCount});case ie:return Object(j.a)(Object(j.a)({},e),{},{isPreloader:t.preloader});case ue:return Object(j.a)(Object(j.a)({},e),{},{followingInProgress:t.preloader?[].concat(Object(d.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},je=Object(o.c)({profileReducer:S,dialogsReducer:C,sideBarReducer:I.a,usersReducer:Y,friendsReducer:de,auth:p.b,app:ne}),be=Object(o.e)(je,Object(o.a)(Z.a));window.store=be;var pe=be,fe=n(50),he=n.n(fe),me=n(38),Oe=n(39),_e=n(41),ge=n(40),xe=n(9),ve=n(11),Pe=(n(116),n(15)),we=n.n(Pe),Ne=n(58),ke=n.n(Ne),Se=n(33),Ie=n.n(Se),Ue=n.p+"static/media/user.affd02bf.png",ye=function(e){return Object(a.jsx)("div",{children:e.isPreloader?Object(a.jsxs)("div",{className:Ie.a.friendItem,children:[Object(a.jsx)("img",{src:e.avatarUser?e.avatarUser:Ue,alt:"avatar",className:Ie.a.avatarUser}),Object(a.jsx)("span",{className:Ie.a.name,children:e.name})]}):Object(a.jsxs)(xe.b,{to:"/profile/".concat(e.id),className:"".concat(Ie.a.friendItem," ").concat(e.isPreloader&&Ie.a.friendItemPreloader),children:[Object(a.jsx)("img",{src:e.avatarUser?e.avatarUser:Ue,alt:"avatar",className:Ie.a.avatarUser}),Object(a.jsx)("span",{className:Ie.a.name,children:e.name})]})})},Ce=n(6),Re=function(e){var t=Object(Ce.c)(),n=Object(Ce.d)((function(e){return e.auth.isAuth}));Object(r.useEffect)((function(){n&&t(Object(I.b)())}),[]);var s=e.nameUserElement.map((function(t){return Object(a.jsx)(ye,{name:t.name,avatarUser:t.photos.small,id:t.id,isPreloader:e.isPreloader},t.id)}));return Object(a.jsxs)("nav",{children:[Object(a.jsx)(xe.b,{to:"/friends",className:ke.a.buttonFriends,children:"Friends"}),Object(a.jsx)("div",{className:ke.a.blockFriends,children:s})]})},Ee=Object(Ce.b)((function(e){return{nameUserElement:e.sideBarReducer.users,isPreloader:e.profileReducer.isPreloader}}))(Re),De=function(){return Object(a.jsxs)("nav",{className:we.a.nav,children:[Object(a.jsx)("div",{className:"".concat(we.a.item," ").concat(we.a.item_first),children:Object(a.jsx)(xe.b,{to:"/profile",activeClassName:we.a.active,children:"Profile"})}),Object(a.jsx)("div",{className:we.a.item,children:Object(a.jsx)(xe.b,{to:"/dialog",activeClassName:we.a.active,children:"Message"})}),Object(a.jsx)("div",{className:we.a.item,children:Object(a.jsx)(xe.b,{to:"/news",activeClassName:we.a.active,children:"News"})}),Object(a.jsx)("div",{className:we.a.item,children:Object(a.jsx)(xe.b,{to:"/music",activeClassName:we.a.active,children:"Music"})}),Object(a.jsx)("div",{className:we.a.item,children:Object(a.jsx)(xe.b,{to:"/users",activeClassName:we.a.active,children:"Users"})}),Object(a.jsx)("div",{className:"".concat(we.a.item," ").concat(we.a.item_setting),children:Object(a.jsx)(xe.b,{to:"/setting",activeClassName:we.a.active,children:"Setting"})}),Object(a.jsx)(Ee,{})]})},Fe=n(83),Ae=n.n(Fe),Me=function(){return Object(a.jsx)("div",{className:Ae.a.news,children:"News"})},Le=n(84),Te=n.n(Le),Be=function(){return Object(a.jsx)("div",{className:Te.a.music,children:"Music"})},ze=n(85),He=n.n(ze),Ge=function(){return Object(a.jsx)("div",{className:He.a.setting,children:"Setting"})},We=n(22),Ve=n(61),Je=n.n(Ve),Ke=n(28),qe=n(20),Qe=n.n(qe),Xe=(n(121),function(e){return Object(a.jsxs)("div",{className:"lds-ellipsis",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})}),Ye=function(e){var t=e.user,n=Object(Ke.a)(e,["user"]);return Object(a.jsxs)("div",{className:Qe.a.user,children:[Object(a.jsxs)("div",{className:Qe.a.avatarBlock,children:[Object(a.jsx)(xe.b,{to:"/profile/".concat(t.id),children:Object(a.jsx)("img",{className:Qe.a.avatarUser,src:null!=t.photos.large?t.photos.large:Ue,alt:"avatar"})}),n.authorizedUserId===t.id?null:t.followed?Object(a.jsx)("button",{disabled:n.followingInProgress.some((function(e){return e===t.id})),onClick:function(){n.unfollow(t.id)},className:Qe.a.buttonFollow,children:n.followingInProgress.some((function(e){return e===t.id}))?Object(a.jsx)(Xe,{}):"Unfollow"}):Object(a.jsx)("button",{disabled:n.followingInProgress.some((function(e){return e===t.id})),onClick:function(){n.follow(t.id)},className:Qe.a.buttonFollow,children:n.followingInProgress.some((function(e){return e===t.id}))?Object(a.jsx)(Xe,{}):"Follow"})]}),Object(a.jsxs)("div",{className:Qe.a.profileUser,children:[Object(a.jsxs)("div",{className:Qe.a.aboutUser,children:[Object(a.jsx)("div",{className:Qe.a.nameUser,children:t.name}),Object(a.jsx)("div",{className:Qe.a.bio,children:t.status})]}),Object(a.jsxs)("div",{className:Qe.a.blockCountry,children:[Object(a.jsx)("div",{className:Qe.a.countyUser,children:"country"}),Object(a.jsx)("div",{className:Qe.a.cityUser,children:"city"})]})]})]})},Ze=n(43),$e=n.n(Ze),et=function(e){for(var t=e.portionSize,n=void 0===t?20:t,s=Object(Ke.a)(e,["portionSize"]),c=Math.ceil(s.totalItemsCount/s.pageSize),o=[],i=1;i<=c;i++)o.push(i);var u=Math.ceil(c/n),l=Object(r.useState)(Math.ceil(s.currentPage/n)),d=Object(We.a)(l,2),j=d[0],b=d[1],p=(j-1)*n+1,f=j*n;return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{disabled:1===j,className:$e.a.buttonChangeList,onClick:function(){b(j-1)},children:"Last"}),o.filter((function(e){return e>=p&&e<=f})).map((function(e){return Object(a.jsx)("button",{onClick:function(){return s.onPageChanged(e)},className:"".concat($e.a.numbersPage," ").concat(s.currentPage===e&&$e.a.selectedPage),children:e},e)})),Object(a.jsx)("button",{disabled:j===u,className:$e.a.buttonChangeList,onClick:function(){b(j+1)},children:"Next"})]})},tt=n(55),nt=function(e){if(!e)return"Field is required"},at=n(62),rt=n.n(at),st=function(e){return e.usersReducer.usersData},ct=function(e){return e.usersReducer.pageSize},ot=function(e){return e.usersReducer.totalUsersCount},it=function(e){return e.usersReducer.currentPage},ut=function(e){return e.usersReducer.isPreloader},lt=function(e){return e.usersReducer.followingInProgress},dt=function(e){return e.auth.id},jt=function(e){return e.usersReducer.filter},bt=s.a.memo((function(e){var t=Object(Ce.d)(jt);return Object(a.jsx)("div",{children:Object(a.jsx)(tt.c,{initialValues:{term:t},validate:function(e){},onSubmit:function(t,n){n.setSubmitting;e.onFilterChanged(t.term)},children:function(e){var t=e.isSubmitting;return Object(a.jsxs)(tt.b,{children:[Object(a.jsx)(tt.a,{type:"text",name:"term",placeholder:"Search",validate:nt,className:rt.a.input}),Object(a.jsx)("button",{type:"submit",disabled:t,className:rt.a.button,children:"Submit"})]})}})})})),pt=n(63),ft=n.n(pt),ht=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],r=1;r<=t;r++)n.push(r);return Object(a.jsx)("div",{children:Object(a.jsx)("select",{onChange:function(t){e.onPageChanged(Number(t.target.value))},value:e.currentPage,className:ft.a.selectPage,children:n.map((function(e){return Object(a.jsxs)("option",{className:ft.a.optionPage,children:[e," "]},e)}))})})},mt=function(e){var t=e.currentPage,n=e.pageSize,r=e.isFriendPage,s=Object(Ce.d)(st),c=Object(Ce.d)(ot),o=Object(Ce.d)(lt),i=Object(Ce.d)(dt),d=Object(Ce.d)(jt),j=Object(Ce.c)(),p=function(e){j(V(e)),j(X(e,n,r,d))},f=function(e){j(function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(q(!0,e)),t.next=3,R.a.follow(e);case 3:t.sent.resultCode===b.a.Success&&n(H(e)),n(q(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},h=function(e){j(function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(q(!0,e)),t.next=3,R.a.unfollow(e);case 3:0===t.sent.resultCode&&n(G(e)),n(q(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},m=s.map((function(e){return Object(a.jsx)(Ye,{follow:f,unfollow:h,user:e,followingInProgress:o,authorizedUserId:i},e.id)}));return Object(a.jsxs)("div",{className:Je.a.wrapper,children:[Object(a.jsxs)("div",{className:Je.a.menu,children:[Object(a.jsx)(ht,{totalItemsCount:c,pageSize:n,currentPage:t,onPageChanged:p}),Object(a.jsx)(bt,{onFilterChanged:function(e){j(X(1,n,r,e))}})]}),m,Object(a.jsx)(et,{totalItemsCount:c,pageSize:n,currentPage:t,onPageChanged:p})]})},Ot=n(88),_t=n.n(Ot),gt=(n(122),function(e){return Object(a.jsxs)("div",{className:"lds-ring",children:[Object(a.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}}),Object(a.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}}),Object(a.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}}),Object(a.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}})]})}),xt=function(){return Object(a.jsx)("div",{className:_t.a.wrapper,children:Object(a.jsx)(gt,{height:"500px",width:"500px",borderWidth:"40px"})})},vt=s.a.memo((function(e){var t=Object(Ce.d)(ut),n=Object(Ce.d)(ct),s=Object(Ce.d)(it),c=Object(Ce.c)(),o=Object(r.useState)(null),i=Object(We.a)(o,2),u=i[0],l=i[1];return Object(r.useEffect)((function(){var t=e.match.params.users;"friends"===t?(l(!0),c(V(1)),c(X(1,n,!0))):"users"===t&&(l(null),c(V(1)),c(X(1,n,null)))}),[e.match.params.users]),Object(a.jsx)(a.Fragment,{children:t?Object(a.jsx)(xt,{}):Object(a.jsx)(mt,{pageSize:n,isFriendPage:u,currentPage:s})})})),Pt=Object(ve.g)(vt),wt=n(64),Nt=n.n(wt),kt=n(8),St=n.n(kt),It=function(e){return Object(a.jsxs)("div",{children:[!e.isOwner&&Object(a.jsx)("button",{onClick:e.changeInfoButton,className:St.a.editButton,children:"Change profile"}),Object(a.jsxs)("p",{children:["About Me: ",e.profile&&e.profile.aboutMe]}),Object(a.jsxs)("p",{children:["\u0418\u0449\u0435\u0448\u044c \u0440\u0430\u0431\u043e\u0442\u0443: ",e.profile&&e.profile.lookingForAJob?"\u0434\u0430":"\u043d\u0435\u0442"]}),e.profile&&e.profile.lookingForAJobDescription&&Object(a.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: ",e.profile.lookingForAJobDescription]}),Object(a.jsx)("p",{className:St.a.contacts,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),e.profile&&e.profile.contacts.facebook&&Object(a.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 facebook: ",e.profile.contacts.facebook]}),e.profile&&e.profile.contacts.website&&Object(a.jsxs)("p",{children:["\u041c\u043e\u0439 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442: ",e.profile.contacts.website]}),e.profile&&e.profile.contacts.vk&&Object(a.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435: ",e.profile.contacts.vk]}),e.profile&&e.profile.contacts.twitter&&Object(a.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 twitter: ",e.profile.contacts.twitter]}),e.profile&&e.profile.contacts.instagram&&Object(a.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 instagram: ",e.profile.contacts.instagram]}),e.profile&&e.profile.contacts.youtube&&Object(a.jsxs)("p",{children:["\u041c\u043e\u0439 \u043a\u0430\u043d\u0430\u043b \u043d\u0430 youtube: ",e.profile.contacts.youtube]}),e.profile&&e.profile.contacts.github&&Object(a.jsxs)("p",{children:["\u041c\u043e\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043d\u0430 github: ",e.profile.contacts.github]}),e.profile&&e.profile.contacts.mainLink&&Object(a.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 mainLink: ",e.profile.contacts.mainLink]})]})},Ut=n(14),yt=function(e){var t,n=Object(r.useState)(null===(t=e.profile)||void 0===t?void 0:t.lookingForAJob),s=Object(We.a)(n,2),c=s[0],o=s[1];return Object(a.jsx)("div",{children:Object(a.jsx)(Ut.b,{onSubmit:function(t){var n=Object(j.a)(Object(j.a)({},t),{},{fullName:e.profile&&e.profile.fullName,lookingForAJob:c});e.changeProfile(n)},render:function(t){var n,r,s,i,u,l,d,j,b,p,f=t.handleSubmit;return Object(a.jsxs)("form",{action:"",onSubmit:f,children:[Object(a.jsx)("button",{className:St.a.editButton,children:"Save profile"}),Object(a.jsx)("button",{onClick:e.changeInfoButton,className:St.a.editButton,children:"Don't save changes"}),Object(a.jsx)("p",{children:"About Me:"}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"aboutMe",initialValue:null===(n=e.profile)||void 0===n?void 0:n.aboutMe,className:St.a.form}),Object(a.jsx)("p",{children:"\u0418\u0449\u0435\u0448\u044c \u0440\u0430\u0431\u043e\u0442\u0443:"}),Object(a.jsxs)("span",{className:St.a.checkbox,onClick:function(){return o(!c)},children:[Object(a.jsx)(Ut.a,{component:"input",type:"checkbox",name:"lookingForAJob",checked:c}),Object(a.jsx)("span",{className:St.a.wrapper,children:Object(a.jsx)("i",{className:St.a.check})})]}),Object(a.jsx)("p",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"lookingForAJobDescription",initialValue:null===(r=e.profile)||void 0===r?void 0:r.lookingForAJobDescription,className:St.a.form}),Object(a.jsx)("p",{className:St.a.contacts,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(a.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 facebook: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.facebook",initialValue:null===(s=e.profile)||void 0===s?void 0:s.contacts.facebook,className:St.a.form}),Object(a.jsx)("p",{children:"\u041c\u043e\u0439 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.website",initialValue:null===(i=e.profile)||void 0===i?void 0:i.contacts.website,className:St.a.form}),Object(a.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.vk",initialValue:null===(u=e.profile)||void 0===u?void 0:u.contacts.vk,className:St.a.form}),Object(a.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 twitter: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.twitter",initialValue:null===(l=e.profile)||void 0===l?void 0:l.contacts.twitter,className:St.a.form}),Object(a.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 instagram:"}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.instagram",initialValue:null===(d=e.profile)||void 0===d?void 0:d.contacts.instagram,className:St.a.form}),Object(a.jsx)("p",{children:"\u041c\u043e\u0439 \u043a\u0430\u043d\u0430\u043b \u043d\u0430 youtube: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.youtube",initialValue:null===(j=e.profile)||void 0===j?void 0:j.contacts.youtube,className:St.a.form}),Object(a.jsx)("p",{children:"\u041c\u043e\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043d\u0430 github: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.github",initialValue:null===(b=e.profile)||void 0===b?void 0:b.contacts.github,className:St.a.form}),Object(a.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 mainLink: "}),Object(a.jsx)(Ut.a,{component:"input",type:"text",name:"contacts.mainLink",initialValue:null===(p=e.profile)||void 0===p?void 0:p.contacts.mainLink,className:St.a.form})]})}})})},Ct=n(35),Rt=n.n(Ct),Et=n(77),Dt=n(78),Ft=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:Rt.a.avatar,src:null!=e.photo?e.photo:Ue}),!e.isOwner&&Object(a.jsxs)("div",{className:Rt.a.blockInput,children:[Object(a.jsx)("input",{type:"file",onChange:function(t){var n;(null===(n=t.target.files)||void 0===n?void 0:n.length)&&e.addChangeAvatar(t.target.files[0])},id:"avatar",className:Rt.a.inputPhoto}),Object(a.jsx)("label",{htmlFor:"avatar",className:Rt.a.fakeInputPhoto,children:Object(a.jsx)("div",{className:Rt.a.blockFakeInputPhoto,children:Object(a.jsx)(Et.a,{icon:Dt.c,className:Rt.a.iconFakeInputPhoto})})})]})]})},At=(n(125),function(e){var t=Object(r.useState)(!1),n=Object(We.a)(t,2),s=n[0],c=n[1],o=Object(r.useState)(e.status),i=Object(We.a)(o,2),u=i[0],l=i[1];return Object(r.useEffect)((function(){l(e.status)}),[e.status]),Object(a.jsx)("div",{children:e.isOwner?Object(a.jsx)("div",{className:"StatusProfile_status",children:u||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u0435 \u0432\u0432\u0435\u0434\u0451\u043d"}):s?Object(a.jsxs)("div",{className:"StatusProfile_inputBlock",children:[Object(a.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.target.value)},value:u,type:"text",className:"StatusProfile_input"}),Object(a.jsx)("button",{onClick:function(){c(!1),e.updateUserStatus(u)},className:"StatusProfile_inputButton",children:Object(a.jsx)("i",{className:"check"})})]}):Object(a.jsx)("div",{onDoubleClick:function(){c(!0)},className:"StatusProfile_status",children:u||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"})})}),Mt=function(e){var t=Object(r.useState)(!1),n=Object(We.a)(t,2),s=n[0],c=n[1];return Object(a.jsxs)("div",{className:St.a.wrapper,children:[Object(a.jsx)("img",{className:St.a.profile_logo,src:"https://www.komandirovka.ru/upload/save_file33/bf5/bf5c6f100d3d620c48787b3714cb4fea.jpg",alt:""}),Object(a.jsxs)("div",{className:St.a.descriptions,children:[Object(a.jsx)("div",{className:St.a.descriptions_logo,children:Object(a.jsx)(Ft,{isOwner:e.isOwner,photo:e.profile&&e.profile.photos.large,addChangeAvatar:e.addChangeAvatar})}),Object(a.jsxs)("div",{className:St.a.descriptions_text,children:[Object(a.jsx)("div",{className:St.a.descriptions_name,children:e.profile&&e.profile.fullName}),Object(a.jsx)(At,{isOwner:e.isOwner,status:e.status,updateUserStatus:e.updateUserStatus}),Object(a.jsx)("div",{className:St.a.descriptions_about,children:s?Object(a.jsx)(yt,Object(j.a)(Object(j.a)({},e),{},{changeProfile:e.changeProfile,changeInfoButton:function(){return c(!1)}})):Object(a.jsx)(It,Object(j.a)(Object(j.a)({},e),{},{changeInfoButton:function(){return c(!0)}}))})]})]})]})},Lt=n(65),Tt=n.n(Lt),Bt=n(34),zt=n.n(Bt),Ht=function(e){return Object(a.jsxs)("div",{className:zt.a.post,children:[Object(a.jsxs)("div",{className:zt.a.post_content,children:[Object(a.jsx)("img",{className:zt.a.post_logo,src:e.photos?e.photos:Ue,alt:"avatar"}),Object(a.jsx)("p",{className:zt.a.post_text,children:e.message}),Object(a.jsx)("span",{onClick:function(){e.deletePost(e.id)},className:zt.a.delete})]}),Object(a.jsx)("button",{id:"button",className:zt.a.post_like,children:"like"}),Object(a.jsx)("div",{className:zt.a.post_likes,id:"like",children:e.likes})]})},Gt=n(45),Wt=n.n(Gt),Vt=n(79),Jt=function(e){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}};return Object(a.jsx)(Ut.b,{onSubmit:function(t){e.addPost(t.inputNewPost)},children:function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:Wt.a.newPost,children:[Object(a.jsx)(Ut.a,{component:Vt.b,name:"inputNewPost",className:Wt.a.newPost_textarea,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430",validate:t(nt,(n=10,function(e){if(e&&e.length>n)return"Max length is ".concat(n," symbols")}))}),Object(a.jsx)("button",{disabled:e.hasValidationErrors&&!0,className:"".concat(Wt.a.newPost_button," \n                    ").concat(e.hasValidationErrors&&Wt.a.disabled),children:"Send"})]});var n}})},Kt=function(e){return Object(a.jsx)(Jt,{addPost:e.addPost})},qt=Object(Ce.b)(null,{addPost:function(e){return{type:h,newPostText:e}}})(Kt),Qt=function(e){var t=e.postData.map((function(t){return Object(a.jsx)(Ht,{message:t.message,likes:t.likesCount,photos:e.photos,id:t.id,deletePost:e.deletePost},t.id)}));return Object(a.jsxs)("div",{className:Tt.a.posts,children:[Object(a.jsx)("div",{className:Tt.a.posts_title,children:"My Posts"}),Object(a.jsx)(qt,{}),t]})},Xt=s.a.memo(Qt),Yt=function(e){return e.profile?Object(a.jsxs)("div",{className:Nt.a.profile,children:[Object(a.jsx)(Mt,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,addChangeAvatar:e.addChangeAvatar,changeProfile:e.changeProfile}),Object(a.jsx)(Xt,{photos:e.profile.photos.small,postData:e.postData,deletePost:e.deletePost})]}):Object(a.jsx)("div",{className:Nt.a.preloaderBox,children:Object(a.jsx)(xt,{})})},Zt=function(e){Object(_e.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(me.a)(this,n),t.apply(this,arguments)}return Object(Oe.a)(n,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e&&(this.props.getUserProfile(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Number(this.props.match.params.userId)===this.props.authorizedUserId?Object(a.jsx)(ve.a,{to:"/profile"}):Object(a.jsx)(Yt,Object(j.a)({isOwner:!!this.props.match.params.userId},this.props))}}]),n}(s.a.Component),$t=Object(o.d)(Object(Ce.b)((function(e){return{profile:e.profileReducer.profile,postData:e.profileReducer.postData,status:e.profileReducer.status,authorizedUserId:e.auth.id}}),{getUserProfile:k,getUserStatus:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.getStatus(e);case 2:a=t.sent,n(w(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.updateStatus(e);case 2:t.sent.resultCode===b.a.Success&&n(w(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addChangeAvatar:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n,a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.updateAvatar(e);case 2:(r=t.sent).resultCode===b.a.Success&&n((s=r.data.photos,{type:x,photos:s})),n(Object(p.a)(a().auth.id));case 5:case"end":return t.stop()}var s}),t)})));return function(e,n){return t.apply(this,arguments)}}()},deletePost:function(e){return{type:m,postId:e}},changeProfile:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n,a){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,f.a.updateProfileInfo(e);case 3:t.sent.data.resultCode===b.a.Success&&n(k(r));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),ve.g)(Zt),en=n(27),tn=n.n(en),nn=function(e){return Object(a.jsxs)("header",{className:tn.a.header,children:[Object(a.jsx)("div",{className:tn.a.header_logo,children:"RUSLNETWORK"}),e.isAuth?Object(a.jsxs)(xe.b,{to:"/profile",className:tn.a.loginBlock,children:[Object(a.jsx)("span",{children:Object(a.jsx)("div",{className:tn.a.blockPhoto,children:e.userPhoto?Object(a.jsx)("img",{src:e.userPhoto,alt:"",className:tn.a.photo}):Object(a.jsx)("img",{src:Ue,alt:"",className:tn.a.photoNull})})}),Object(a.jsx)("span",{children:e.login}),Object(a.jsx)("button",{onClick:e.logout,className:tn.a.buttonLogout,children:"Logout"})]}):Object(a.jsx)(xe.b,{to:"/login",className:tn.a.loginBlock,activeClassName:tn.a.active,children:"Login"})]})},an=function(e){Object(_e.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(me.a)(this,n),t.apply(this,arguments)}return Object(Oe.a)(n,[{key:"render",value:function(){return Object(a.jsx)(nn,Object(j.a)({},this.props))}}]),n}(s.a.Component),rn=Object(Ce.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,userPhoto:e.auth.userPhoto}}),{logout:p.e})(an),sn=n(66),cn=n.n(sn),on=n(47),un=n.n(on),ln=function(e){return Object(a.jsx)(Ut.b,{onSubmit:function(t){e.addNewMessage(t.textAreaMessage)},render:function(e){var t=e.handleSubmit;e.form;return Object(a.jsxs)("form",{onSubmit:t,className:un.a.inputMessage,children:[Object(a.jsx)(Ut.a,{component:"textarea",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",name:"textAreaMessage",className:un.a.textMessage}),Object(a.jsx)("button",{className:un.a.buttonSend,children:Object(a.jsx)("img",{className:un.a.buttonImg,src:"https://img.icons8.com/plumpy/96/000000/filled-sent.png",alt:""})})]})}})},dn=function(e){return Object(a.jsx)(ln,{addNewMessage:e.addNewMessage})},jn=n(89),bn=n.n(jn),pn=n(67),fn=n.n(pn),hn=function(e){return Object(a.jsx)("div",{className:fn.a.message,children:Object(a.jsx)("div",{className:fn.a.messageInto,children:e.message})})},mn=function(e){var t=e.messageElement.map((function(e){return Object(a.jsx)(hn,{message:e.message},e.id)}));return Object(a.jsx)("div",{className:bn.a.blockMessage,children:t})},On=n(90),_n=n.n(On),gn=n(48),xn=n.n(gn),vn=function(e){var t="/dialog/"+e.id;return Object(a.jsx)("div",{className:xn.a.dialog,children:Object(a.jsxs)(xe.b,{to:t,activeClassName:xn.a.active,children:[Object(a.jsx)("img",{className:xn.a.avatarUser,src:e.avatarUser,alt:"avatar"}),Object(a.jsx)("span",{className:xn.a.nameUser,children:e.name})]})})},Pn=function(e){var t=e.dialogElement.map((function(e){return Object(a.jsx)(vn,{name:e.name,id:e.id,avatarUser:e.avatarUser},e.id)}));return Object(a.jsx)("div",{className:_n.a.dialogs_items,children:t})},wn=function(e){return Object(a.jsxs)("div",{className:cn.a.dialogs,children:[Object(a.jsx)(Pn,{dialogElement:e.dialogElement}),Object(a.jsxs)("div",{className:cn.a.messages,children:[Object(a.jsx)(mn,{messageElement:e.messageElement}),Object(a.jsx)(dn,{addNewMessage:e.addNewMessage})]})]})},Nn=function(e){return{isAuth:e.auth.isAuth}};var kn=function(e){return Object(Ce.b)(Nn)((function(t){var n=t.isAuth,r=Object(Ke.a)(t,["isAuth"]);return n?Object(a.jsx)(e,Object(j.a)({},r)):Object(a.jsx)(ve.a,{to:"login"})}))},Sn=Object(o.d)(kn,Object(Ce.b)((function(e){return{messageElement:e.dialogsReducer.messageData,dialogElement:e.dialogsReducer.dialogsData}}),{addNewMessage:function(e){return{type:U,message:e}}}))(wn);var In=function(e){return function(t){return Object(a.jsx)(s.a.Suspense,{fallback:Object(a.jsx)("div",{className:"preloaderSuspense",children:Object(a.jsx)(gt,{height:"500px",width:"500px",borderWidth:"40px"})}),children:Object(a.jsx)(e,Object(j.a)({},t))})}},Un=n.p+"static/media/error_404.83d95d70.png",yn=n(91),Cn=n.n(yn),Rn=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:Un,className:Cn.a.imagesError})})},En=s.a.lazy((function(){return n.e(3).then(n.bind(null,129))})),Dn=function(e){Object(_e.a)(n,e);var t=Object(ge.a)(n);function n(){return Object(me.a)(this,n),t.apply(this,arguments)}return Object(Oe.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialize?Object(a.jsx)(xe.a,{children:Object(a.jsxs)("div",{className:"app-wrapper",children:[Object(a.jsx)(rn,{}),Object(a.jsx)(De,{}),Object(a.jsx)("div",{className:"app-content",children:Object(a.jsxs)(ve.d,{children:[Object(a.jsx)(ve.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(ve.a,{to:"/profile"})}}),Object(a.jsx)(ve.b,{path:"/profile/:userId?",render:function(){return Object(a.jsx)($t,{})}}),Object(a.jsx)(ve.b,{path:"/dialog",render:function(){return Object(a.jsx)(Sn,{})}}),Object(a.jsx)(ve.b,{path:"/news",render:function(){return Object(a.jsx)(Me,{})}}),Object(a.jsx)(ve.b,{path:"/music",render:function(){return Object(a.jsx)(Be,{})}}),Object(a.jsx)(ve.b,{path:"/setting",render:function(){return Object(a.jsx)(Ge,{})}}),Object(a.jsx)(ve.b,{path:"/login",render:In(En)}),Object(a.jsx)(ve.b,{path:"/:users?",render:function(){return Object(a.jsx)(Pt,{})}}),Object(a.jsx)(ve.b,{path:"*",render:function(){return Object(a.jsx)(Rn,{})}})]})})]})}):Object(a.jsx)("div",{className:"preloader",children:Object(a.jsx)(gt,{height:"500px",width:"500px",borderWidth:"40px"})})}}]),n}(s.a.Component),Fn=Object(Ce.b)((function(e){return{id:e.auth.id,initialize:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(p.c)());Promise.all([t]).then((function(){e(te())}))}}})(Dn);he.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Ce.a,{store:pe,children:Object(a.jsx)(Fn,{})})}),document.getElementById("root")),c()}],[[126,1,2]]]);
//# sourceMappingURL=main.78a537af.chunk.js.map