(this["webpackJsonpfirst-js-project"]=this["webpackJsonpfirst-js-project"]||[]).push([[0],{116:function(e,t,s){e.exports={blockFriends:"FriendsSideBar_blockFriends__2iMJn",buttonFriends:"FriendsSideBar_buttonFriends__1IB2K"}},119:function(e,t,s){e.exports={profile:"Profile_profile__13nXA",preloaderBox:"Profile_preloaderBox__s-cO5"}},120:function(e,t,s){e.exports={posts:"MyPosts_posts__223X8",posts_title:"MyPosts_posts_title__3tsFr",newPost:"MyPosts_newPost__1RZDe",newPost_textarea:"MyPosts_newPost_textarea__2G1bL",newPost_button:"MyPosts_newPost_button__DKrux"}},121:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__1qLjX",dialogs_items:"Dialogs_dialogs_items__3JY44",messages:"Dialogs_messages__1yubI",blockMessage:"Dialogs_blockMessage__1tLBT"}},122:function(e,t,s){e.exports={message:"Message_message__16buQ",messageInto:"Message_messageInto__dBjVq"}},13:function(e,t,s){"use strict";s.d(t,"d",(function(){return n})),s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return c})),s.d(t,"c",(function(){return i}));var r=s(114),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3588cd03-a8ff-4f0d-9d81-9d9c39c14fdb"}}),n={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/"+e)},unfollow:function(e){return a.delete("follow/"+e)},getUserProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object."),o.getUserProfile(e)}},o={getUserProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status",{status:e})},updateAvatar:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},c={me:function(){return a.get("auth/me")},login:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:s,captcha:r})},logout:function(){return a.delete("auth/login")}},i={captchaURL:function(){return a.get("/security/get-captcha-url")}}},15:function(e,t,s){e.exports={nav:"NavBar_nav__1ZsFP",item_first:"NavBar_item_first__MOfNm",item:"NavBar_item__2oFxI",active:"NavBar_active__1EKNC",item_setting:"NavBar_item_setting__3YL6_"}},181:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return u}));var r=s(4),a=s(0),n=s(52),o=(s(1),s(75)),c=s.n(o),i=function(e){var t=e.input,s=e.meta,o=Object(n.a)(e,["input","meta"]),i=s.error&&s.touched;return Object(a.jsx)("div",{className:"".concat(c.a.formControl," ").concat(i&&c.a.errorInput),children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},t),o))})},u=function(e){var t=e.input,s=e.meta,o=Object(n.a)(e,["input","meta"]),i=s.error&&s.touched;return Object(a.jsx)("div",{className:"".concat(c.a.formControl," ").concat(i&&c.a.errorInput),children:Object(a.jsx)("input",Object(r.a)(Object(r.a)({},t),o))})}},186:function(e,t,s){e.exports={news:"News_news__3SN8l"}},187:function(e,t,s){e.exports={music:"Music_music__SNPKr"}},188:function(e,t,s){e.exports={setting:"Setting_setting__3dyKB"}},189:function(e,t,s){e.exports={wrapper:"PreloaderUsers_wrapper__1HebR"}},190:function(e,t,s){e.exports={imagesError:"Error404_imagesError__3CKE0"}},191:function(e,t,s){e.exports={blockMessage:"BlockMessage_blockMessage__Ql4Pd"}},192:function(e,t,s){e.exports={dialogs_items:"BlockDialogsItem_dialogs_items__1Ilm8"}},195:function(e,t,s){},23:function(e,t,s){e.exports={user:"User_user__10vDW",avatarBlock:"User_avatarBlock__12Mle",avatarUser:"User_avatarUser__1CpwV",buttonFollow:"User_buttonFollow__1CNQl",profileUser:"User_profileUser__1tSXC",aboutUser:"User_aboutUser__1t7mg",nameUser:"User_nameUser__2Op41",blockCountry:"User_blockCountry__jcTk-",countyUser:"User_countyUser__3341w"}},33:function(e,t,s){e.exports={header:"Header_header__1GvhD",header_logo:"Header_header_logo__-GRmH",loginBlock:"Header_loginBlock__2MFl8",blockPhoto:"Header_blockPhoto__2jnVz",photo:"Header_photo__63AOT",photoNull:"Header_photoNull__19x9a",active:"Header_active__SB70v",buttonLogout:"Header_buttonLogout__2dCym"}},40:function(e,t,s){"use strict";s.d(t,"a",(function(){return b})),s.d(t,"d",(function(){return g})),s.d(t,"e",(function(){return _})),s.d(t,"c",(function(){return m}));var r=s(9),a=s.n(r),n=s(20),o=s(4),c=s(13),i="ruslnetwork/authReducer/SET_USER_DATA",u="ruslnetwork/authReducer/ADD_USER_PHOTO",l="ruslnetwork/authReducer/ERROR_AUTH",d="ruslnetwork/authReducer/SET_CAPTCHA_URL_SUCCESS",p={id:null,login:null,email:null,isFetching:!1,isAuth:!1,userPhoto:"",errorAuth:null,captchaURL:null},j=function(e,t,s,r){return{type:i,payload:{id:e,login:t,email:s,isAuth:r}}},b=function(){return function(){var e=Object(n.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.getUserProfile(15337);case 2:s=e.sent,t((r=s.data.photos.small,{type:u,userPhoto:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return{type:l,message:e}},h=function(e){return{type:d,captchaURL:e}},g=function(e,t,s,r){return function(){var o=Object(n.a)(a.a.mark((function o(i){var u;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,c.a.login(e,t,s,r);case 2:0===(u=o.sent).data.resultCode?(i(m()),i(f(null))):(10===u.data.resultCode&&i(function(){var e=Object(n.a)(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.captchaURL();case 2:s=e.sent,t(h(s.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(f(u.data.messages[0]))),i(h(null));case 5:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},_=function(){return function(e){c.a.logout().then((function(t){e(j(null,null,null,!1))}))}},m=function(){return function(){var e=Object(n.a)(a.a.mark((function e(t,s){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.me();case 2:0===(r=e.sent).data.resultCode&&t(j(r.data.data.id,r.data.data.login,r.data.data.email,!0)),t(b(s().auth.id));case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(o.a)(Object(o.a)({},e),t.payload);case u:return Object(o.a)(Object(o.a)({},e),{},{userPhoto:t.userPhoto});case l:return Object(o.a)(Object(o.a)({},e),{},{errorAuth:t.message});case d:return Object(o.a)(Object(o.a)({},e),{},{captchaURL:t.captchaURL});default:return e}}},46:function(e,t,s){e.exports={profile_logo:"ProfileInfo_profile_logo__1gGmI",descriptions:"ProfileInfo_descriptions__3FOxw",descriptions_logo:"ProfileInfo_descriptions_logo__v86Dv",descriptions_text:"ProfileInfo_descriptions_text__1Bk_o",descriptions_name:"ProfileInfo_descriptions_name__22uMQ",descriptions_about:"ProfileInfo_descriptions_about__7Fcjm",contacts:"ProfileInfo_contacts__2uQFH"}},47:function(e,t,s){e.exports={post:"Post_post__1cgbX",post_content:"Post_post_content__22nR6",post_logo:"Post_post_logo__3iji_",post_text:"Post_post_text__1m5Mt",post_like:"Post_post_like__NnLKi",post_likes:"Post_post_likes__ZRgdt",delete:"Post_delete__3n7Q5"}},508:function(e,t,s){},513:function(e,t,s){},514:function(e,t,s){},515:function(e,t,s){},518:function(e,t,s){"use strict";s.r(t);var r=s(0),a=s(1),n=s.n(a),o=function(e){e&&e instanceof Function&&s.e(4).then(s.bind(null,520)).then((function(t){var s=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,o=t.getTTFB;s(e),r(e),a(e),n(e),o(e)}))},c=(s(195),s(45)),i=s(9),u=s.n(i),l=s(20),d=s(37),p=s(4),j=s(13),b=s(40),f="ADD-POST",h="DELETE_POST",g="SET_USERS_PROFILE",_="TOGGLE_PRELOADER",m="SET_USER_STATUS",O="ADD_AVATAR",x={postData:[{id:1,message:"Hi, How are you?",likesCount:"189"},{id:2,message:"I'm Happy",likesCount:"95"}],newPostText:"",profile:null,isPreloader:!1,status:""},v=function(e){return{type:g,profile:e}},P=function(e){return{type:m,status:e}},w=function(e){return{type:_,preloader:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var s={id:e.postData.length+1,message:t.newPostText,likesCount:"0"};return Object(p.a)(Object(p.a)({},e),{},{postData:[].concat(Object(d.a)(e.postData),[s]),newPostText:""});case h:return Object(p.a)(Object(p.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!=t.postId}))});case g:return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});case _:return Object(p.a)(Object(p.a)({},e),{},{isPreloader:t.preloader});case m:return Object(p.a)(Object(p.a)({},e),{},{status:t.status});case O:return Object(p.a)(Object(p.a)({},e),{},{profile:Object(p.a)(Object(p.a)({},e.profile),{},{photos:t.photos})});default:return e}},U="SET_SIDE_BAR_USERS",k={users:[],isPreloader:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(p.a)(Object(p.a)({},e),{},{users:Object(d.a)(t.users)});default:return e}},C=(s(213),"ADD-NEW-MESSAGE"),S={messageData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Bye"}],dialogsData:[{id:1,name:"Sun",avatarUser:"https://solarsystem.nasa.gov/system/basic_html_elements/11561_Sun.png"},{id:2,name:"Teacher",avatarUser:"https://ikeacity.by/UserFiles/products/images2/large/903/684/47/doska-molbert-ikea-mola-0.jpg"},{id:3,name:"Nikitka",avatarUser:"https://www.meme-arsenal.com/memes/5608fd17a92284aa78fdf6ec089a3c97.jpg"}]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var s={id:1,message:t.message};return Object(p.a)(Object(p.a)({},e),{},{messageData:[].concat(Object(d.a)(e.messageData),[s])});default:return e}},R="ruslnetwork/usersReducer/FOLLOW",D="ruslnetwork/usersReducer/UNFOLLOW",E="ruslnetwork/usersReducer/SET-USERS",A="ruslnetwork/usersReducer/SET_USERS_CURRENT_PAGE",F="ruslnetwork/usersReducer/SET_TOTAL_USERS_COUNT",M="ruslnetwork/usersReducer/TOGGLE_PRELOADER",T="ruslnetwork/usersReducer/TOGGLE_IS_FOLLOWING_PROGRESS",L={usersData:[],pageSize:20,totalUsersCount:11,currentPage:1,isPreloader:!0,followingInProgress:[]},z=function(e){return{type:R,userId:e}},B=function(e){return{type:D,userId:e}},H=function(e){return{type:E,userId:e}},W=function(e){return{type:F,totalUsersCount:e}},G=function(e){return{type:M,preloader:e}},J=function(e,t){return{type:T,preloader:e,userId:t}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(p.a)(Object(p.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(p.a)(Object(p.a)({},e),{},{followed:!0}):e}))});case D:return Object(p.a)(Object(p.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(p.a)(Object(p.a)({},e),{},{followed:!1}):e}))});case E:return Object(p.a)(Object(p.a)({},e),{},{usersData:Object(d.a)(t.userId)});case A:return Object(p.a)(Object(p.a)({},e),{},{currentPage:+t.numberPage});case F:return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.totalUsersCount});case M:return Object(p.a)(Object(p.a)({},e),{},{isPreloader:t.preloader});case T:return Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.preloader?[].concat(Object(d.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Q=s(184),V="ruslnetwork/appReducer/INITIALIZED_SUCCESS",X={initialized:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});default:return e}},Z=Object(c.c)({profileReducer:N,dialogsReducer:y,sideBarReducer:I,usersReducer:K,auth:b.b,app:q}),Y=Object(c.e)(Z,Object(c.a)(Q.a));window.store=Y;var $=Y,ee=s(26),te=s.n(ee),se=s(41),re=s(42),ae=s(44),ne=s(43),oe=s(7),ce=s(10),ie=(s(508),s(15)),ue=s.n(ie),le=s(116),de=s.n(le),pe=s(71),je=s.n(pe),be=s.p+"static/media/user.affd02bf.png",fe=function(e){return Object(r.jsxs)(oe.b,{to:!e.isPreloader&&"/profile/".concat(e.id),className:"".concat(je.a.friendItem," ").concat(e.isPreloader&&je.a.friendItemPreloader),children:[Object(r.jsx)("img",{src:e.avatarUser?e.avatarUser:be,alt:"avatar",className:je.a.avatarUser}),Object(r.jsx)("span",{className:je.a.name,children:e.name})]})},he=function(e){var t=e.nameUserElement.map((function(t){return Object(r.jsx)(fe,{name:t.name,avatarUser:t.photos.small,id:t.id,isPreloader:e.isPreloader},t.id)}));return Object(r.jsxs)("nav",{children:[Object(r.jsx)(oe.b,{to:"/users",className:de.a.buttonFriends,children:"Friends"}),Object(r.jsx)("div",{className:de.a.blockFriends,children:t})]})},ge=s(8),_e=Object(ge.b)((function(e){return{nameUserElement:e.sideBarReducer.users,isPreloader:e.profileReducer.isPreloader}}))(he),me=function(e){return Object(r.jsxs)("nav",{className:ue.a.nav,children:[Object(r.jsx)("div",{className:"".concat(ue.a.item," ").concat(ue.a.item_first),children:Object(r.jsx)(oe.b,{to:"/profile",activeClassName:ue.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:ue.a.item,children:Object(r.jsx)(oe.b,{to:"/dialog",activeClassName:ue.a.active,children:"Message"})}),Object(r.jsx)("div",{className:ue.a.item,children:Object(r.jsx)(oe.b,{to:"/news",activeClassName:ue.a.active,children:"News"})}),Object(r.jsx)("div",{className:ue.a.item,children:Object(r.jsx)(oe.b,{to:"/music",activeClassName:ue.a.active,children:"Music"})}),Object(r.jsx)("div",{className:ue.a.item,children:Object(r.jsx)(oe.b,{to:"/users",activeClassName:ue.a.active,children:"Users"})}),Object(r.jsx)("div",{className:"".concat(ue.a.item," ").concat(ue.a.item_setting),children:Object(r.jsx)(oe.b,{to:"/setting",activeClassName:ue.a.active,children:"Setting"})}),Object(r.jsx)(_e,{})]})},Oe=s(186),xe=s.n(Oe),ve=function(){return Object(r.jsx)("div",{className:xe.a.news,children:"News"})},Pe=s(187),we=s.n(Pe),Ne=function(e){return Object(r.jsx)("div",{className:we.a.music,children:"Music"})},Ue=s(188),ke=s.n(Ue),Ie=function(){return Object(r.jsx)("div",{className:ke.a.setting,children:"Setting"})},Ce=s(89),Se=s.n(Ce),ye=s(52),Re=s(23),De=s.n(Re),Ee=(s(513),function(e){return Object(r.jsxs)("div",{className:"lds-ellipsis",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})}),Ae=function(e){var t=e.user,s=Object(ye.a)(e,["user"]);return Object(r.jsxs)("div",{className:De.a.user,children:[Object(r.jsxs)("div",{className:De.a.avatarBlock,children:[Object(r.jsx)(oe.b,{to:"/profile/".concat(t.id),children:Object(r.jsx)("img",{className:De.a.avatarUser,src:null!=t.photos.large?t.photos.large:be,alt:"avatar"})}),s.authorizedUserId===t.id?null:t.followed?Object(r.jsx)("button",{disabled:s.followingInProgress.some((function(e){return e===t.id})),onClick:function(){s.unfollow(t.id)},className:De.a.buttonFollow,children:s.followingInProgress.some((function(e){return e===t.id}))?Object(r.jsx)(Ee,{}):"Unfollow"}):Object(r.jsx)("button",{disabled:s.followingInProgress.some((function(e){return e===t.id})),onClick:function(){s.follow(t.id)},className:De.a.buttonFollow,children:s.followingInProgress.some((function(e){return e===t.id}))?Object(r.jsx)(Ee,{}):"Follow"})]}),Object(r.jsxs)("div",{className:De.a.profileUser,children:[Object(r.jsxs)("div",{className:De.a.aboutUser,children:[Object(r.jsx)("div",{className:De.a.nameUser,children:t.name}),Object(r.jsx)("div",{className:De.a.bio,children:t.status})]}),Object(r.jsxs)("div",{className:De.a.blockCountry,children:[Object(r.jsx)("div",{className:De.a.countyUser,children:"user.country"}),Object(r.jsx)("div",{className:De.a.cityUser,children:"user.city"})]})]})]})},Fe=s(68),Me=s(72),Te=s.n(Me),Le=function(e){for(var t=e.portionSize,s=void 0===t?20:t,n=Object(ye.a)(e,["portionSize"]),o=Math.ceil(n.totalItemsCount/n.pageSize),c=[],i=1;i<=o;i++)c.push(i);var u=Math.ceil(o/s),l=Object(a.useState)(Math.ceil(n.currentPage/s)),d=Object(Fe.a)(l,2),p=d[0],j=d[1],b=(p-1)*s+1,f=p*s;return Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{disabled:1===p&&!0,className:Te.a.buttonChangeList,onClick:function(){j(p-1)},children:"Last"}),c.filter((function(e){return e>=b&&e<=f})).map((function(e){return Object(r.jsx)("button",{onClick:function(){return n.onPageChanged(e)},className:"".concat(Te.a.numbersPage," ").concat(n.currentPage===e&&Te.a.selectedPage),children:e},e)})),Object(r.jsx)("button",{disabled:p===u&&!0,className:Te.a.buttonChangeList,onClick:function(){j(p+1)},children:"Next"})]})},ze=function(e){for(var t=e.usersData.map((function(t){return Object(r.jsx)(Ae,{follow:e.follow,unfollow:e.unfollow,user:t,currentPage:e.currentPage,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,followingInProgress:e.followingInProgress,authorizedUserId:e.authorizedUserId},t.id)})),s=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=s;n++)a.push(n);return Object(r.jsxs)("div",{className:Se.a.wrapper,children:[Object(r.jsx)("select",{onChange:function(t){e.onPageChanged(t.target.value)},value:e.currentPage,className:Se.a.selectPage,children:a.map((function(e){return Object(r.jsxs)("option",{className:Se.a.optionPage,children:[e," "]},e)}))}),t,Object(r.jsx)(Le,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged})]})},Be=s(189),He=s.n(Be),We=(s(514),function(e){return Object(r.jsxs)("div",{className:"lds-ring",children:[Object(r.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}}),Object(r.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}}),Object(r.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}}),Object(r.jsx)("div",{style:{height:"".concat(e.height),width:"".concat(e.width),borderWidth:"".concat(e.borderWidth)}})]})}),Ge=function(e){return Object(r.jsx)("div",{className:He.a.wrapper,children:Object(r.jsx)(We,{height:"500px",width:"500px",borderWidth:"40px"})})},Je=function(e){Object(ae.a)(s,e);var t=Object(ne.a)(s);function s(){var e;Object(se.a)(this,s);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setUsersCurrentPage(t),e.props.getUsers(t,e.props.pageSize)},e}return Object(re.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:this.props.isPreloader?Object(r.jsx)(Ge,{}):Object(r.jsx)(ze,{follow:this.props.follow,unfollow:this.props.unfollow,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,usersData:this.props.usersData,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,followingInProgress:this.props.followingInProgress,authorizedUserId:this.props.authorizedUserId})})}}]),s}(n.a.Component),Ke=Object(ge.b)((function(e){return{usersData:e.usersReducer.usersData,pageSize:e.usersReducer.pageSize,totalUsersCount:e.usersReducer.totalUsersCount,currentPage:e.usersReducer.currentPage,isPreloader:e.usersReducer.isPreloader,followingInProgress:e.usersReducer.followingInProgress,authorizedUserId:e.auth.id}}),{follow:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(s){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(J(!0,e)),t.next=3,j.d.follow(e);case 3:0===t.sent.data.resultCode&&s(z(e)),s(J(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(s){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(J(!0,e)),t.next=3,j.d.unfollow(e);case 3:0===t.sent.data.resultCode&&s(B(e)),s(J(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUsers:H,setUsersCurrentPage:function(e){return{type:A,numberPage:e}},setTotalUsersCount:W,setPreloaderToggle:G,toggleFollowingProgress:J,getUsers:function(e,t){return function(){var s=Object(l.a)(u.a.mark((function s(r){var a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r(G(!0)),s.next=3,j.d.getUsers(e,t);case 3:a=s.sent,r(G(!1)),r(H(a.items)),r(W(a.totalCount));case 7:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})(Je),Qe=s(119),Ve=s.n(Qe),Xe=s(46),qe=s.n(Xe),Ze=(s(515),function(e){var t=Object(a.useState)(!1),s=Object(Fe.a)(t,2),n=s[0],o=s[1],c=Object(a.useState)(e.status),i=Object(Fe.a)(c,2),u=i[0],l=i[1];return Object(a.useEffect)((function(){l(e.status)}),[e.status]),Object(r.jsx)("div",{children:n?Object(r.jsxs)("div",{className:"StatusProfile_inputBlock",children:[Object(r.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.target.value)},value:u,type:"text",className:"StatusProfile_input"}),Object(r.jsx)("button",{onClick:function(){o(!1),e.updateUserStatus(u)},className:"StatusProfile_inputButton",children:Object(r.jsx)("i",{className:"check"})})]}):Object(r.jsx)("div",{onDoubleClick:!e.isOwner&&function(){o(!0)},className:"StatusProfile_status",children:e.isOwner?"\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u0435 \u0432\u0432\u0435\u0434\u0451\u043d":u||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"})})}),Ye=s(54),$e=s.n(Ye),et=s(179),tt=s(180),st=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:$e.a.logo,src:null!=e.photo?e.photo:be}),!e.isOwner&&Object(r.jsxs)("div",{className:$e.a.blockInput,children:[Object(r.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.addChangeAvatar(t.target.files[0])},id:"avatar",className:$e.a.inputPhoto}),Object(r.jsx)("label",{htmlFor:"avatar",className:$e.a.fakeInputPhoto,children:Object(r.jsx)("div",{className:$e.a.blockFakeInputPhoto,children:Object(r.jsx)(et.a,{icon:tt.c,className:$e.a.iconFakeInputPhoto})})})]})]})},rt=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{className:qe.a.profile_logo,src:"https://www.komandirovka.ru/upload/save_file33/bf5/bf5c6f100d3d620c48787b3714cb4fea.jpg",alt:""}),Object(r.jsxs)("div",{className:qe.a.descriptions,children:[Object(r.jsx)("div",{className:qe.a.descriptions_logo,children:Object(r.jsx)(st,{isOwner:e.isOwner,photo:e.profile.photos.large,addChangeAvatar:e.addChangeAvatar})}),Object(r.jsxs)("div",{className:qe.a.descriptions_text,children:[Object(r.jsx)("div",{className:qe.a.descriptions_name,children:e.profile.fullName}),Object(r.jsx)(Ze,{isOwner:e.isOwner,status:e.status,updateUserStatus:e.updateUserStatus}),Object(r.jsxs)("div",{className:qe.a.descriptions_about,children:[Object(r.jsxs)("p",{children:["\u0418\u0449\u0435\u0448\u044c \u0440\u0430\u0431\u043e\u0442\u0443: ",e.profile.lookingForAJob?"\u0434\u0430":"\u043d\u0435\u0442"]}),e.profile.lookingForAJobDescription&&Object(r.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: ",e.profile.lookingForAJobDescription]}),Object(r.jsx)("p",{className:qe.a.contacts,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),e.profile.contacts.facebook&&Object(r.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 facebook: ",e.profile.contacts.facebook]}),e.profile.contacts.website&&Object(r.jsxs)("p",{children:["\u041c\u043e\u0439 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442: ",e.profile.contacts.website]}),e.profile.contacts.vk&&Object(r.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435: ",e.profile.contacts.vk]}),e.profile.contacts.twitter&&Object(r.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 twitter: ",e.profile.contacts.twitter]}),e.profile.contacts.instagram&&Object(r.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 instagram: ",e.profile.contacts.instagram]}),e.profile.contacts.youtube&&Object(r.jsxs)("p",{children:["\u041c\u043e\u0439 \u043a\u0430\u043d\u0430\u043b \u043d\u0430 youtube: ",e.profile.contacts.youtube]}),e.profile.contacts.github&&Object(r.jsxs)("p",{children:["\u041c\u043e\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043d\u0430 github: ",e.profile.contacts.github]}),e.profile.contacts.mainLink&&Object(r.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432 mainLink: ",e.profile.contacts.mainLink]})]})]})]})]})},at=s(120),nt=s.n(at),ot=s(47),ct=s.n(ot),it=function(e){return Object(r.jsxs)("div",{className:ct.a.post,children:[Object(r.jsxs)("div",{className:ct.a.post_content,children:[Object(r.jsx)("img",{className:ct.a.post_logo,src:e.photos?e.photos:be,alt:"avatar"}),Object(r.jsx)("p",{className:ct.a.post_text,children:e.message}),Object(r.jsx)("span",{onClick:function(){e.deletePost(e.id)},className:ct.a.delete})]}),Object(r.jsx)("button",{id:"button",className:ct.a.post_like,children:"like"}),Object(r.jsx)("div",{className:ct.a.post_likes,id:"like",children:e.likes})]})},ut=s(74),lt=s.n(ut),dt=s(58),pt=function(e){if(!e)return"Field is required"},jt=s(181),bt=function(e){var t=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return t.reduce((function(t,s){return t||s(e)}),void 0)}};return Object(r.jsx)(dt.b,{onSubmit:function(t){e.addPost(t.inputNewPost)},children:function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,className:lt.a.newPost,children:[Object(r.jsx)(dt.a,{component:jt.b,name:"inputNewPost",className:lt.a.newPost_textarea,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430",validate:t(pt,(s=10,function(e){if(e&&e.length>s)return"Max length is ".concat(s," symbols")}))}),Object(r.jsx)("button",{disabled:e.hasValidationErrors&&!0,className:"".concat(lt.a.newPost_button," \n                    ").concat(e.hasValidationErrors&&lt.a.disabled),children:"Send"})]});var s}})},ft=function(e){return Object(r.jsx)(bt,{addPost:e.addPost})},ht=Object(ge.b)((function(e){return{newPostText:e.profileReducer.newPostText}}),{addPost:function(e){return{type:f,newPostText:e}}})(ft),gt=function(e){var t=e.postData.map((function(t){return Object(r.jsx)(it,{message:t.message,likes:t.likesCount,photos:e.photos,id:t.id,deletePost:e.deletePost},t.id)}));return Object(r.jsxs)("div",{className:nt.a.posts,children:[Object(r.jsx)("div",{className:nt.a.posts_title,children:"My Posts"}),Object(r.jsx)(ht,{}),t]})},_t=function(e){return e.profile?Object(r.jsxs)("div",{className:Ve.a.profile,children:[Object(r.jsx)(rt,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,addChangeAvatar:e.addChangeAvatar}),Object(r.jsx)(gt,{photos:e.profile.photos.small,postData:e.postData,deletePost:e.deletePost})]}):Object(r.jsx)("div",{className:Ve.a.preloaderBox,children:Object(r.jsx)(Ge,{})})},mt=s.p+"static/media/error_404.83d95d70.png",Ot=s(190),xt=s.n(Ot),vt=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:mt,className:xt.a.imagesError})})},Pt=function(e){Object(ae.a)(s,e);var t=Object(ne.a)(s);function s(){return Object(se.a)(this,s),t.apply(this,arguments)}return Object(re.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e&&(this.props.getUserProfile(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Number(this.props.match.params.userId)===this.props.authorizedUserId?Object(r.jsx)(ce.a,{to:"/profile"}):"string"===typeof this.props.profile?Object(r.jsx)(vt,{}):Object(r.jsx)(_t,Object(p.a)({isOwner:!!this.props.match.params.userId},this.props))}}]),s}(n.a.Component),wt=Object(c.d)(Object(ge.b)((function(e){return{profile:e.profileReducer.profile,postData:e.profileReducer.postData,status:e.profileReducer.status,authorizedUserId:e.auth.id}}),{getUserProfile:function(e){return function(t){t(v(null)),t(w(!0)),j.d.getUserProfile(e).then((function(e){t(w(!1)),t(v(e.data))})).catch((function(e){t(v(e.message))}))}},getUserStatus:function(e){return function(t){j.b.getStatus(e).then((function(e){t(P(e.data))}))}},updateUserStatus:function(e){return function(t){j.b.updateStatus(e).then((function(s){0===s.data.resultCode&&t(P(e))}))}},addChangeAvatar:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(s,r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.b.updateAvatar(e);case 2:0===(a=t.sent).data.resultCode&&s((n=a.data.data.photos,{type:O,photos:n})),s(Object(b.a)(r().auth.id));case 5:case"end":return t.stop()}var n}),t)})));return function(e,s){return t.apply(this,arguments)}}()},deletePost:function(e){return{type:h,postId:e}}}),ce.g)(Pt),Nt=s(33),Ut=s.n(Nt),kt=(s(114),function(e){return Object(r.jsxs)("header",{className:Ut.a.header,children:[Object(r.jsx)("div",{className:Ut.a.header_logo,children:"RUSLNETWORK"}),e.isAuth?Object(r.jsxs)(oe.b,{to:"/profile",className:Ut.a.loginBlock,children:[Object(r.jsx)("span",{children:Object(r.jsx)("div",{className:Ut.a.blockPhoto,children:e.userPhoto?Object(r.jsx)("img",{src:e.userPhoto,alt:"",className:Ut.a.photo}):Object(r.jsx)("img",{src:be,alt:"",className:Ut.a.photoNull})})}),Object(r.jsx)("span",{children:e.login}),Object(r.jsx)("button",{onClick:e.logout,className:Ut.a.buttonLogout,children:"Logout"})]}):Object(r.jsx)(oe.b,{to:"/login",className:Ut.a.loginBlock,activeClassName:Ut.a.active,children:"Login"})]})}),It=function(e){Object(ae.a)(s,e);var t=Object(ne.a)(s);function s(){return Object(se.a)(this,s),t.apply(this,arguments)}return Object(re.a)(s,[{key:"render",value:function(){return Object(r.jsx)(kt,Object(p.a)({},this.props))}}]),s}(n.a.Component),Ct=Object(ge.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,userPhoto:e.auth.userPhoto}}),{logout:b.e})(It),St=s(121),yt=s.n(St),Rt=s(76),Dt=s.n(Rt),Et=function(e){return Object(r.jsx)(dt.b,{onSubmit:function(t){e.addNewMessage(t.textAreaMessage)},render:function(e){var t=e.handleSubmit;e.form;return Object(r.jsxs)("form",{onSubmit:t,className:Dt.a.inputMessage,children:[Object(r.jsx)(dt.a,{component:"textarea",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",name:"textAreaMessage",className:Dt.a.textMessage}),Object(r.jsx)("button",{className:Dt.a.buttonSend,children:Object(r.jsx)("img",{className:Dt.a.buttonImg,src:"https://img.icons8.com/plumpy/96/000000/filled-sent.png",alt:""})})]})}})},At=function(e){return Object(r.jsx)(Et,{addNewMessage:e.addNewMessage})},Ft=Object(ge.b)((function(e){return{newMessageText:e.dialogsReducer.newMessageText}}),{addNewMessage:function(e){return{type:C,message:e}}})(At),Mt=s(191),Tt=s.n(Mt),Lt=s(122),zt=s.n(Lt),Bt=function(e){return Object(r.jsx)("div",{className:zt.a.message,children:Object(r.jsx)("div",{className:zt.a.messageInto,children:e.message})})},Ht=function(e){var t=e.messageElement.map((function(e){return Object(r.jsx)(Bt,{message:e.message},e.id)}));return Object(r.jsx)("div",{className:Tt.a.blockMessage,children:t})},Wt=Object(ge.b)((function(e){return{messageElement:e.dialogsReducer.messageData}}))(Ht),Gt=s(192),Jt=s.n(Gt),Kt=s(77),Qt=s.n(Kt),Vt=function(e){var t="/dialog/"+e.id;return Object(r.jsx)("div",{className:Qt.a.dialog,children:Object(r.jsxs)(oe.b,{to:t,activeClassName:Qt.a.active,children:[Object(r.jsx)("img",{className:Qt.a.avatarUser,src:e.avatarUser,alt:"avatar"}),Object(r.jsx)("span",{className:Qt.a.nameUser,children:e.name})]})})},Xt=function(e){var t=e.dialogElement.map((function(e){return Object(r.jsx)(Vt,{name:e.name,id:e.id,avatarUser:e.avatarUser},e.id)}));return Object(r.jsx)("div",{className:Jt.a.dialogs_items,children:t})},qt=Object(ge.b)((function(e){return{dialogElement:e.dialogsReducer.dialogsData}}))(Xt),Zt=function(e){return{isAuth:e.auth.isAuth}},Yt=function(e){return Object(ge.b)(Zt)((function(t){return t.isAuth?Object(r.jsx)(e,Object(p.a)({},t)):Object(r.jsx)(ce.a,{to:"login"})}))}((function(e){return Object(r.jsxs)("div",{className:yt.a.dialogs,children:[Object(r.jsx)(qt,{}),Object(r.jsxs)("div",{className:yt.a.messages,children:[Object(r.jsx)(Wt,{}),Object(r.jsx)(Ft,{})]})]})})),$t=function(e){return function(t){return Object(r.jsx)(n.a.Suspense,{fallback:Object(r.jsx)("div",{className:"preloaderSuspense",children:Object(r.jsx)(We,{height:"500px",width:"500px",borderWidth:"40px"})}),children:Object(r.jsx)(e,Object(p.a)({},t))})}},es=n.a.lazy((function(){return s.e(3).then(s.bind(null,521))})),ts=function(e){Object(ae.a)(s,e);var t=Object(ne.a)(s);function s(){return Object(se.a)(this,s),t.apply(this,arguments)}return Object(re.a)(s,[{key:"componentDidMount",value:function(){this.props.initializeApp(this.props.id)}},{key:"render",value:function(){return this.props.initialize?Object(r.jsx)(oe.a,{children:Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(Ct,{}),Object(r.jsx)(me,{}),Object(r.jsx)("div",{className:"app-content",children:Object(r.jsxs)(ce.d,{children:[Object(r.jsx)(ce.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(ce.a,{to:"/profile"})}}),Object(r.jsx)(ce.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(wt,{})}}),Object(r.jsx)(ce.b,{path:"/dialog",render:function(){return Object(r.jsx)(Yt,{})}}),Object(r.jsx)(ce.b,{path:"/news",render:function(){return Object(r.jsx)(ve,{})}}),Object(r.jsx)(ce.b,{path:"/music",render:function(){return Object(r.jsx)(Ne,{})}}),Object(r.jsx)(ce.b,{path:"/setting",render:function(){return Object(r.jsx)(Ie,{})}}),Object(r.jsx)(ce.b,{path:"/users",render:function(){return Object(r.jsx)(Ke,{})}}),Object(r.jsx)(ce.b,{path:"/login",render:$t(es)}),Object(r.jsx)(ce.b,{path:"*",render:function(){return Object(r.jsx)(vt,{})}})]})})]})}):Object(r.jsx)("div",{className:"preloader",children:Object(r.jsx)(We,{height:"500px",width:"500px",borderWidth:"40px"})})}}]),s}(n.a.Component),ss=Object(ge.b)((function(e){return{id:e.auth.id,initialize:e.app.initialized}}),{initializeApp:function(e){return function(t){var s=t(Object(b.c)(e)),r=t(function(){var e=Object(l.a)(u.a.mark((function e(t){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.d.getUsers(1,3);case 2:s=e.sent,t((r=s.items,{type:U,users:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([s,r]).then((function(){t({type:V})}))}}})(ts);te.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(ge.a,{store:$,children:Object(r.jsx)(ss,{})})}),document.getElementById("root")),o()},54:function(e,t,s){e.exports={logo:"AvavatarProfile_logo__22crU",inputPhoto:"AvavatarProfile_inputPhoto__3bOgk",blockInput:"AvavatarProfile_blockInput__3TjVq",blockFakeInputPhoto:"AvavatarProfile_blockFakeInputPhoto__2mf4v",iconFakeInputPhoto:"AvavatarProfile_iconFakeInputPhoto__1bFek"}},71:function(e,t,s){e.exports={friendItem:"NavFriendItem_friendItem__3tREF",friendItemPreloader:"NavFriendItem_friendItemPreloader__3GrP3",avatarUser:"NavFriendItem_avatarUser__2Q4fg",name:"NavFriendItem_name__2_AbB"}},72:function(e,t,s){e.exports={buttonChangeList:"Paginator_buttonChangeList__2Pcro",numbersPage:"Paginator_numbersPage__2dMmH",selectedPage:"Paginator_selectedPage__3N0Wc"}},74:function(e,t,s){e.exports={newPost:"NewPost_newPost__gckab",newPost_textarea:"NewPost_newPost_textarea__2Eb51",newPost_button:"NewPost_newPost_button__3EsHI",disabled:"NewPost_disabled__3z2-l"}},75:function(e,t,s){e.exports={formControl:"FormsControls_formControl__1eqP1",errorInput:"FormsControls_errorInput__Filto",errorTextarea:"FormsControls_errorTextarea__stxTP"}},76:function(e,t,s){e.exports={inputMessage:"InputMessage_inputMessage__lnSYt",textMessage:"InputMessage_textMessage__2TeLS",buttonSend:"InputMessage_buttonSend__3RzUJ",buttonImg:"InputMessage_buttonImg__PPXw-"}},77:function(e,t,s){e.exports={dialog:"DialogsItem_dialog__1uTuI",active:"DialogsItem_active__1jgbh",avatarUser:"DialogsItem_avatarUser__3Dwfb",nameUser:"DialogsItem_nameUser__1JDz-"}},89:function(e,t,s){e.exports={wrapper:"Users_wrapper__2IDO-",selectPage:"Users_selectPage__3xoGZ",optionPage:"Users_optionPage__ikGdl"}}},[[518,1,2]]]);
//# sourceMappingURL=main.a324dd5b.chunk.js.map